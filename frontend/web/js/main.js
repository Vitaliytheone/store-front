<<<<<<< HEAD
var custom=new function(){var e=this;e.request=null,e.confirm=function(e,n,t,o){var a;return a=(0,templates["modal/confirm"])($.extend({},!0,{confirm_button:"OK",cancel_button:"Cancel",width:"600px"},o,{title:e,confirm_message:n})),$(window.document.body).append(a),$("#confirmModal").modal({}),$("#confirmModal").on("hidden.bs.modal",function(e){$("#confirmModal").remove()}),$("#confirm_yes").on("click",function(e){return $("#confirm_yes").unbind("click"),$("#confirmModal").modal("hide"),t.call()})},e.ajax=function(n){var t=$.extend({},!0,n);"object"==typeof n&&(n.beforeSend=function(){"function"==typeof t.beforeSend&&t.beforeSend()},n.success=function(e){"function"==typeof t.success&&t.success(e)},null!=e.request&&e.request.abort(),e.request=$.ajax(n))},e.notify=function(e){var n,t;if($("body").addClass("bottom-right"),"object"!=typeof e)return!1;for(n in e)void 0!==(t=$.extend({},!0,{type:"success",delay:8e3,text:""},e[n])).text&&null!=t.text&&$.notify({message:t.text.toString()},{type:t.type,placement:{from:"bottom",align:"right"},z_index:2e3,delay:t.delay,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})},e.sendBtn=function(n,t){if("object"!=typeof t&&(t={}),!n.hasClass("active")){n.addClass("has-spinner");var o=$.extend({},!0,t);o.url=n.attr("href"),$(".spinner",n).remove(),n.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),o.beforeSend=function(){n.addClass("active")},o.success=function(o){n.removeClass("active"),$(".spinner",n).remove(),"success"==o.status?"function"==typeof t.callback&&t.callback(o):"error"==o.status&&e.notify({0:{type:"danger",text:o.message}})},e.ajax(o)}},e.sendFrom=function(n,t,o){if("object"!=typeof o&&(o={}),!n.hasClass("active")){n.addClass("has-spinner");var a=$.extend({},!0,o),i=$(".error-summary",t);a.url=t.attr("action"),a.type="POST",$(".spinner",n).remove(),n.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),a.beforeSend=function(){n.addClass("active"),i.length&&(i.addClass("hidden"),i.html(""))},a.success=function(a){n.removeClass("active"),$(".spinner",n).remove(),"success"==a.status?"function"==typeof o.callback&&o.callback(a):"error"==a.status&&(a.message&&(i.length?(i.html(a.message),i.removeClass("hidden")):e.notify({0:{type:"danger",text:a.message}})),a.errors&&$.each(a.errors,function(e,n){alert(n),t.yiiActiveForm("updateAttribute",e,n)}),"function"==typeof o.errorCallback&&o.errorCallback(a))},e.ajax(a)}}},customModule={};window.modules={},$(function(){"object"==typeof window.modules&&$.each(window.modules,function(e,n){void 0!==customModule[e]&&customModule[e].run(n)})}),customModule.adminLayout={run:function(e){$(".dropdown-collapse").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).next().hasClass("show")?$($(this).attr("href")).collapse("hide"):$($(this).attr("href")).collapse("show")}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(document).ready(function(){var e=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(e,function(e){e.nextElementSibling.innerHTML;e.addEventListener("change",function(e){if((this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())&&this.files&&this.files[0]){var n=new FileReader;n.onload=function(e){var n='<div class="sommerce-settings__theme-imagepreview">\n                              <a href="#" class="sommerce-settings__delete-image"><span class="fa fa-times-circle-o"></span></a>\n                              <img src="'+e.target.result+'" alt="...">\n                          </div>';$("#image-preview").html(n)},n.readAsDataURL(this.files[0])}}),$(document).on("click",".sommerce_v1.0-settings__delete-image",function(n){$("#image-preview").html("<span></span>"),e.value=""})})}),$(document).ready(function(){$("#select-menu-link").change(function(){$(".hide-link").hide();var e=$("#select-menu-link option:selected").val();$(".link-"+e).fadeIn()})}),$(document).ready(function(){toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"5000",timeOut:"5000",extendedTimeOut:"5000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}}),$(document).ready(function(){var e=window.app__messages||null;e&&_.forEach(e,function(e){e.success&&toastr.success(e.success),e.warning&&toastr.warning(e.warning),e.error&&toastr.error(e.error)})})}},customModule.ordersDetails={run:function(e){$(document).ready(function(){var e=$("#suborder-details-modal"),n=e.find(".modal-title"),t=e.find("#order-detail-provider"),o=e.find("#order-detail-provider-order-id"),a=e.find("#order-detail-provider-response"),i=e.find("#order-detail-lastupdate"),r=e.find(".modal-loader");e.on("show.bs.modal",function(e){function s(e){n.html(l),t.val(e.provider),o.val(e.provider_order_id),a.html(e.provider_response),i.val(e.updated_at)}var d=$(e.relatedTarget),c=d.data("suborder-id"),l=d.data("modal_title");void 0===c||isNaN(c)||(r.removeClass("hidden"),$.ajax({url:"/admin/orders/get-order-details",type:"GET",data:{suborder_id:c},success:function(e){r.addClass("hidden"),void 0!==e.details&&s(e.details)},error:function(e,n,t){console.log("Something is wrong!"),console.log(e,n,t),r.addClass("hidden")}}))}),e.on("hidden.bs.modal",function(e){$(e.currentTarget).find("input").val(""),a.html("")})})}},customModule.ordersClipboard={run:function(e){$(document).ready(function(){var e=function(){var e=function(){new Clipboard("[data-clipboard=true]").on("success",function(e){e.clearSelection(),alert("Copied!")})};return{init:function(){e()}}}();jQuery(document).ready(function(){e.init()})})}},customModule.adminProviders={run:function(e){$(document).on("click","#showCreateProviderModal",function(e){e.preventDefault();$(this);var n=$("#createProviderModal"),t=$("#createProviderForm",n),o=$("#createProviderError",t);return o.addClass("hidden"),o.html(""),n.modal("show"),!1}),$(document).on("click","#createProviderButton",function(e){e.preventDefault();var n=$(this),t=$("#createProviderForm");return custom.sendFrom(n,t,{data:t.serialize(),callback:function(e){$("#createProviderModal").modal("hide"),location.reload()}}),!1})}},customModule.settingsPayments={run:function(e){$(document).on("change",".toggle-active",function(e){var n=$(e.currentTarget),t=n.data("action_url"),o=(n.data("payment_method"),0|n.prop("checked"));$.ajax({url:t,type:"POST",data:{active:o},success:function(e,n,t){},error:function(e,n,t){console.log("Error on update",e,n,t)}})})}},customModule.frontendLayout={run:function(e){new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0}),new Swiper(".main-slider",{paginationClickable:!0,autoplay:3e3,pagination:".main-slider-pagination"});$(window).width()>991&&$(".navbar .dropdown").hover(function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown(150)},function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp(105)})}};
=======
var custom=new function(){var e=this;e.request=null,e.confirm=function(e,t,n,o){var i;return i=(0,templates["modal/confirm"])($.extend({},!0,{confirm_button:"OK",cancel_button:"Cancel",width:"600px"},o,{title:e,confirm_message:t})),$(window.document.body).append(i),$("#confirmModal").modal({}),$("#confirmModal").on("hidden.bs.modal",function(e){$("#confirmModal").remove()}),$("#confirm_yes").on("click",function(e){return $("#confirm_yes").unbind("click"),$("#confirmModal").modal("hide"),n.call()})},e.ajax=function(t){var n=$.extend({},!0,t);"object"==typeof t&&(t.beforeSend=function(){"function"==typeof n.beforeSend&&n.beforeSend()},t.success=function(e){"function"==typeof n.success&&n.success(e)},null!=e.request&&e.request.abort(),e.request=$.ajax(t))},e.notify=function(e){var t,n;if($("body").addClass("bottom-right"),"object"!=typeof e)return!1;for(t in e)void 0!==(n=$.extend({},!0,{type:"success",delay:8e3,text:""},e[t])).text&&null!=n.text&&$.notify({message:n.text.toString()},{type:n.type,placement:{from:"bottom",align:"right"},z_index:2e3,delay:n.delay,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})},e.sendBtn=function(t,n){if("object"!=typeof n&&(n={}),!t.hasClass("active")){t.addClass("has-spinner");var o=$.extend({},!0,n);o.url=t.attr("href"),$(".spinner",t).remove(),t.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),o.beforeSend=function(){t.addClass("active")},o.success=function(o){t.removeClass("active"),$(".spinner",t).remove(),"success"==o.status?"function"==typeof n.callback&&n.callback(o):"error"==o.status&&e.notify({0:{type:"danger",text:o.message}})},e.ajax(o)}},e.sendFrom=function(t,n,o){if("object"!=typeof o&&(o={}),!t.hasClass("active")){t.addClass("has-spinner");var i=$.extend({},!0,o),a=$(".error-summary",n);i.url=n.attr("action"),i.type="POST",$(".spinner",t).remove(),t.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),i.beforeSend=function(){t.addClass("active"),a.length&&(a.addClass("hidden"),a.html(""))},i.success=function(i){t.removeClass("active"),$(".spinner",t).remove(),"success"==i.status?"function"==typeof o.callback&&o.callback(i):"error"==i.status&&(i.message&&(a.length?(a.html(i.message),a.removeClass("hidden")):e.notify({0:{type:"danger",text:i.message}})),i.errors&&$.each(i.errors,function(e,t){alert(t),n.yiiActiveForm("updateAttribute",e,t)}),"function"==typeof o.errorCallback&&o.errorCallback(i))},e.ajax(i)}}},customModule={};window.modules={},$(function(){"object"==typeof window.modules&&$.each(window.modules,function(e,t){void 0!==customModule[e]&&customModule[e].run(t)})}),customModule.adminLayout={run:function(e){$(".dropdown-collapse").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).next().hasClass("show")?$($(this).attr("href")).collapse("hide"):$($(this).attr("href")).collapse("show")});var t=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(t,function(e){e.nextElementSibling.innerHTML;e.addEventListener("change",function(e){if((this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())&&this.files&&this.files[0]){var t=new FileReader;t.onload=function(e){var t='<div class="sommerce-settings__theme-imagepreview">\n                              <a href="#" class="sommerce-settings__delete-image"><span class="fa fa-times-circle-o"></span></a>\n                              <img src="'+e.target.result+'" alt="...">\n                          </div>';$("#image-preview").html(t)},t.readAsDataURL(this.files[0])}}),$(document).on("click",".sommerce_v1.0-settings__delete-image",function(t){$("#image-preview").html("<span></span>"),e.value=""})}),$("#select-menu-link").change(function(){$(".hide-link").hide();var e=$("#select-menu-link option:selected").val();$(".link-"+e).fadeIn()}),$('[data-toggle="tooltip"]').tooltip()}},customModule.adminNotifyLayout={run:function(e){toastr.options={closeButton:!1,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-bottom-right",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"5000",timeOut:"5000",extendedTimeOut:"5000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};e.messages;e.messages&&_.forEach(e.messages,function(e){e.success&&toastr.success(e.success),e.warning&&toastr.warning(e.warning),e.error&&toastr.error(e.error)})}},customModule.ordersDetails={run:function(e){$(document).ready(function(){var e=$("#suborder-details-modal"),t=e.find(".modal-title"),n=e.find("#order-detail-provider"),o=e.find("#order-detail-provider-order-id"),i=e.find("#order-detail-provider-response"),a=e.find("#order-detail-lastupdate"),r=e.find(".modal-loader");e.on("show.bs.modal",function(e){function s(e){t.html(c),n.val(e.provider),o.val(e.provider_order_id),i.html(e.provider_response),a.val(e.updated_at)}var d=$(e.relatedTarget),l=d.data("suborder-id"),c=d.data("modal_title");void 0===l||isNaN(l)||(r.removeClass("hidden"),$.ajax({url:"/admin/orders/get-order-details",type:"GET",data:{suborder_id:l},success:function(e){r.addClass("hidden"),void 0!==e.details&&s(e.details)},error:function(e,t,n){console.log("Something is wrong!"),console.log(e,t,n),r.addClass("hidden")}}))}),e.on("hidden.bs.modal",function(e){$(e.currentTarget).find("input").val(""),i.html("")})})}},customModule.ordersClipboard={run:function(e){$(document).ready(function(){var e=function(){var e=function(){new Clipboard("[data-clipboard=true]").on("success",function(e){e.clearSelection(),alert("Copied!")})};return{init:function(){e()}}}();jQuery(document).ready(function(){e.init()})})}},customModule.adminProviders={run:function(e){$(document).on("click","#showCreateProviderModal",function(e){e.preventDefault();$(this);var t=$("#createProviderModal"),n=$("#createProviderForm",t),o=$("#createProviderError",n);return o.addClass("hidden"),o.html(""),t.modal("show"),!1}),$(document).on("click","#createProviderButton",function(e){e.preventDefault();var t=$(this),n=$("#createProviderForm");return custom.sendFrom(t,n,{data:n.serialize(),callback:function(e){$("#createProviderModal").modal("hide"),location.reload()}}),!1})}},customModule.frontendLayout={run:function(e){new Swiper(".swiper-container",{pagination:".swiper-pagination",paginationClickable:!0}),new Swiper(".main-slider",{paginationClickable:!0,autoplay:3e3,pagination:".main-slider-pagination"});$(window).width()>991&&$(".navbar .dropdown").hover(function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideDown(150)},function(){$(this).find(".dropdown-menu").first().stop(!0,!0).slideUp(105)})}};
>>>>>>> 0e213059fb5fbaa3036d4e591ec691f591f368b3
