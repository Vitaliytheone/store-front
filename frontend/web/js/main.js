var custom=new function(){var e=this;e.request=null,e.confirm=function(e,t,n,a){var i;return i=(0,templates["modal/confirm"])($.extend({},!0,{confirm_button:"OK",cancel_button:"Cancel",width:"600px"},a,{title:e,confirm_message:t})),$(window.document.body).append(i),$("#confirmModal").modal({}),$("#confirmModal").on("hidden.bs.modal",function(e){$("#confirmModal").remove()}),$("#confirm_yes").on("click",function(e){return $("#confirm_yes").unbind("click"),$("#confirmModal").modal("hide"),n.call()})},e.ajax=function(t){var n=$.extend({},!0,t);"object"==typeof t&&(t.beforeSend=function(){"function"==typeof n.beforeSend&&n.beforeSend()},t.success=function(e){"function"==typeof n.success&&n.success(e)},null!=e.request&&e.request.abort(),e.request=$.ajax(t))},e.notify=function(e){var t,n;if($("body").addClass("bottom-right"),"object"!=typeof e)return!1;for(t in e)void 0!==(n=$.extend({},!0,{type:"success",delay:8e3,text:""},e[t])).text&&null!=n.text&&$.notify({message:n.text.toString()},{type:n.type,placement:{from:"bottom",align:"right"},z_index:2e3,delay:n.delay,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})},e.sendBtn=function(t,n){if("object"!=typeof n&&(n={}),!t.hasClass("active")){t.addClass("has-spinner");var a=$.extend({},!0,n);a.url=t.attr("href"),$(".spinner",t).remove(),t.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),a.beforeSend=function(){t.addClass("active")},a.success=function(a){t.removeClass("active"),$(".spinner",t).remove(),"success"==a.status?"function"==typeof n.callback&&n.callback(a):"error"==a.status&&e.notify({0:{type:"danger",text:a.message}})},e.ajax(a)}},e.sendFrom=function(t,n,a){if("object"!=typeof a&&(a={}),!t.hasClass("active")){t.addClass("has-spinner");var i=$.extend({},!0,a),o=$(".error-summary",n);i.url=n.attr("action"),i.type="POST",$(".spinner",t).remove(),t.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),i.beforeSend=function(){t.addClass("active"),o.length&&(o.hide(),o.html(""))},i.success=function(i){t.removeClass("active"),$(".spinner",t).remove(),"success"==i.status?"function"==typeof a.callback&&a.callback(i):"error"==i.status&&(i.message&&(o.length?(o.html(i.message),o.show()):e.notify({0:{type:"danger",text:i.message}})),i.errors&&$.each(i.errors,function(e,t){alert(t),n.yiiActiveForm("updateAttribute",e,t)}),"function"==typeof a.errorCallback&&a.errorCallback(i))},e.ajax(i)}}},customModule={};window.modules={},$(function(){"object"==typeof window.modules&&$.each(window.modules,function(e,t){void 0!==customModule[e]&&customModule[e].run(t)})}),customModule.adminLayout={run:function(e){$(".dropdown-collapse").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(this).next().hasClass("show")?$($(this).attr("href")).collapse("hide"):$($(this).attr("href")).collapse("show")}),$(function(){$('[data-toggle="tooltip"]').tooltip()}),$(document).ready(function(){var e=document.querySelectorAll(".inputfile");Array.prototype.forEach.call(e,function(e){e.nextElementSibling.innerHTML;e.addEventListener("change",function(e){if((this.files&&this.files.length>1?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop())&&this.files&&this.files[0]){var t=new FileReader;t.onload=function(e){var t='<div class="sommerce-settings__theme-imagepreview">\n                              <a href="#" class="sommerce-settings__delete-image"><span class="fa fa-times-circle-o"></span></a>\n                              <img src="'+e.target.result+'" alt="...">\n                          </div>';$("#image-preview").html(t)},t.readAsDataURL(this.files[0])}}),$(document).on("click",".sommerce_v1.0-settings__delete-image",function(t){$("#image-preview").html("<span></span>"),e.value=""})})}),$(document).ready(function(){$(".edit-seo__title").length>0&&function(){for(var e=["edit-seo__title","edit-seo__meta","edit-seo__url"],t=0;t<e.length;t++)!function(t){$("."+e[t]+"-muted").text($("#"+e[t]).val().length),$("#"+e[t]).on("input",function(n){2==t?$("."+e[t]).text($(n.target).val().replace(/\s+/g,"-")):($("."+e[t]+"-muted").text($(n.target).val().length),$("."+e[t]).text($(n.target).val()))})}(t)}()}),$(document).ready(function(){$("#select-menu-link").change(function(){$(".hide-link").hide();var e=$("#select-menu-link option:selected").val();$(".link-"+e).fadeIn()})}),$(document).ready(function(){$(document).on("click",".delete-properies",function(){$(this).parent().remove()}),$(document).on("click",".add-properies",function(){var e=$(".input-properties").val();e.length&&($(".list-preperties").append('<li class="list-group-item">'+e+' <span class="fa fa-times delete-properies"></span></li>'),$(".input-properties").val(""))})})}};