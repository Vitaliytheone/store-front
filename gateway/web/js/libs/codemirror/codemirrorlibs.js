(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(b){function d(n,m,o,i){if(o&&o.call){var g=o;o=null}else{var g=c(n,o,"rangeFinder")}if(typeof m=="number"){m=b.Pos(m,0)}var h=c(n,o,"minFoldSize");function f(p){var q=g(n,m);if(!q||q.to.line-q.from.line<h){return null}var s=n.findMarksAt(q.from);for(var r=0;r<s.length;++r){if(s[r].__isFold&&i!=="fold"){if(!p){return null}q.cleared=true;s[r].clear()}}return q}var k=f(true);if(c(n,o,"scanUp")){while(!k&&m.line>n.firstLine()){m=b.Pos(m.line-1,0);k=f(false)}}if(!k||k.cleared||i==="unfold"){return}var l=e(n,o);b.on(l,"mousedown",function(p){j.clear();b.e_preventDefault(p)});var j=n.markText(k.from,k.to,{replacedWith:l,clearOnEnter:c(n,o,"clearOnEnter"),__isFold:true});j.on("clear",function(q,p){b.signal(n,"unfold",n,q,p)});b.signal(n,"fold",n,k.from,k.to)}function e(f,g){var h=c(f,g,"widget");if(typeof h=="string"){var i=document.createTextNode(h);h=document.createElement("span");h.appendChild(i);h.className="CodeMirror-foldmarker"}else{if(h){h=h.cloneNode(true)}}return h}b.newFoldFunction=function(g,f){return function(h,i){d(h,i,{rangeFinder:g,widget:f})}};b.defineExtension("foldCode",function(h,f,g){d(this,h,f,g)});b.defineExtension("isFolded",function(h){var g=this.findMarksAt(h);for(var f=0;f<g.length;++f){if(g[f].__isFold){return true}}});b.commands.toggleFold=function(f){f.foldCode(f.getCursor())};b.commands.fold=function(f){f.foldCode(f.getCursor(),null,"fold")};b.commands.unfold=function(f){f.foldCode(f.getCursor(),null,"unfold")};b.commands.foldAll=function(f){f.operation(function(){for(var g=f.firstLine(),h=f.lastLine();g<=h;g++){f.foldCode(b.Pos(g,0),null,"fold")}})};b.commands.unfoldAll=function(f){f.operation(function(){for(var g=f.firstLine(),h=f.lastLine();g<=h;g++){f.foldCode(b.Pos(g,0),null,"unfold")}})};b.registerHelper("fold","combine",function(){var f=Array.prototype.slice.call(arguments,0);return function(g,k){for(var h=0;h<f.length;++h){var j=f[h](g,k);if(j){return j}}}});b.registerHelper("fold","auto",function(f,k){var h=f.getHelpers(k,"fold");for(var g=0;g<h.length;g++){var j=h[g](f,k);if(j){return j}}});var a={rangeFinder:b.fold.auto,widget:"\u2194",minFoldSize:0,scanUp:false,clearOnEnter:true};b.defineOption("foldOptions",null);function c(f,h,g){if(h&&h[g]!==undefined){return h[g]}var i=f.options.foldOptions;if(i&&i[g]!==undefined){return i[g]}return a[g]}b.defineExtension("foldOption",function(g,f){return c(this,g,f)})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("./foldcode"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","./foldcode"],a)}else{a(CodeMirror)}}})(function(d){d.defineOption("foldGutter",false,function(m,o,n){if(n&&n!=d.Init){m.clearGutter(m.state.foldGutter.options.gutter);m.state.foldGutter=null;m.off("gutterClick",k);m.off("change",g);m.off("viewportChange",l);m.off("fold",e);m.off("unfold",e);m.off("swapDoc",g)}if(o){m.state.foldGutter=new j(i(o));b(m);m.on("gutterClick",k);m.on("change",g);m.on("viewportChange",l);m.on("fold",e);m.on("unfold",e);m.on("swapDoc",g)}});var h=d.Pos;function j(m){this.options=m;this.from=this.to=0}function i(m){if(m===true){m={}}if(m.gutter==null){m.gutter="CodeMirror-foldgutter"}if(m.indicatorOpen==null){m.indicatorOpen="CodeMirror-foldgutter-open"}if(m.indicatorFolded==null){m.indicatorFolded="CodeMirror-foldgutter-folded"}return m}function c(m,n){var p=m.findMarks(h(n,0),h(n+1,0));for(var o=0;o<p.length;++o){if(p[o].__isFold&&p[o].find().from.line==n){return p[o]}}}function f(m){if(typeof m=="string"){var n=document.createElement("div");n.className=m+" CodeMirror-guttermarker-subtle";return n}else{return m.cloneNode(true)}}function a(m,s,r){var o=m.state.foldGutter.options,q=s;var p=m.foldOption(o,"minFoldSize");var n=m.foldOption(o,"rangeFinder");m.eachLine(s,r,function(t){var w=null;if(c(m,q)){w=f(o.indicatorFolded)}else{var v=h(q,0);var u=n&&n(m,v);if(u&&u.to.line-u.from.line>=p){w=f(o.indicatorOpen)}}m.setGutterMarker(t,o.gutter,w);++q})}function b(m){var n=m.getViewport(),o=m.state.foldGutter;if(!o){return}m.operation(function(){a(m,n.from,n.to)});o.from=n.from;o.to=n.to}function k(m,n,q){var p=m.state.foldGutter;if(!p){return}var o=p.options;if(q!=o.gutter){return}var r=c(m,n);if(r){r.clear()}else{m.foldCode(h(n,0),o.rangeFinder)}}function g(m){var o=m.state.foldGutter;if(!o){return}var n=o.options;o.from=o.to=0;clearTimeout(o.changeUpdate);o.changeUpdate=setTimeout(function(){b(m)},n.foldOnChangeTimeSpan||600)}function l(m){var o=m.state.foldGutter;if(!o){return}var n=o.options;clearTimeout(o.changeUpdate);o.changeUpdate=setTimeout(function(){var p=m.getViewport();if(o.from==o.to||p.from-o.to>20||o.from-p.to>20){b(m)}else{m.operation(function(){if(p.from<o.from){a(m,p.from,o.from);o.from=p.from}if(p.to>o.to){a(m,o.to,p.to);o.to=p.to}})}},n.updateViewportTimeSpan||400)}function e(m,p){var o=m.state.foldGutter;if(!o){return}var n=p.line;if(n>=o.from&&n<o.to){a(m,n,n+1)}}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerHelper("fold","brace",function(m,h){var o=h.line,g=m.getLine(o);var t;function d(u){for(var i=h.ch,v=0;;){var w=i<=0?-1:g.lastIndexOf(u,i-1);if(w==-1){if(v==1){break}v=1;i=g.length;continue}if(v==1&&w<h.ch){break}t=m.getTokenTypeAt(a.Pos(o,w+1));if(!/^(comment|string)/.test(t)){return w+1}i=w-1}}var j="{",e="}",n=d("{");if(n==null){j="[",e="]";n=d("[")}if(n==null){return}var l=1,c=m.lastLine(),f,q;outer:for(var s=o;s<=c;++s){var p=m.getLine(s),k=s==o?n:0;for(;;){var b=p.indexOf(j,k),r=p.indexOf(e,k);if(b<0){b=p.length}if(r<0){r=p.length}k=Math.min(b,r);if(k==p.length){break}if(m.getTokenTypeAt(a.Pos(s,k+1))==t){if(k==b){++l}else{if(!--l){f=s;q=k;break outer}}}++k}}if(f==null||o==f&&q==n){return}return{from:a.Pos(o,n),to:a.Pos(f,q)}});a.registerHelper("fold","import",function(b,i){function h(k){if(k<b.firstLine()||k>b.lastLine()){return null}var o=b.getTokenAt(a.Pos(k,1));if(!/\S/.test(o.string)){o=b.getTokenAt(a.Pos(k,o.end+1))}if(o.type!="keyword"||o.string!="import"){return null}for(var l=k,m=Math.min(b.lastLine(),k+10);l<=m;++l){var n=b.getLine(l),j=n.indexOf(";");if(j!=-1){return{startCh:o.end,end:a.Pos(l,j)}}}}var g=i.line,d=h(g),f;if(!d||h(g-1)||((f=h(g-2))&&f.end.line==g-1)){return null}for(var c=d.end;;){var e=h(c.line+1);if(e==null){break}c=e.end}return{from:b.clipPos(a.Pos(g,d.startCh+1)),to:c}});a.registerHelper("fold","include",function(b,h){function f(i){if(i<b.firstLine()||i>b.lastLine()){return null}var j=b.getTokenAt(a.Pos(i,1));if(!/\S/.test(j.string)){j=b.getTokenAt(a.Pos(i,j.end+1))}if(j.type=="meta"&&j.string.slice(0,8)=="#include"){return j.start+8}}var g=h.line,d=f(g);if(d==null||f(g-1)!=null){return null}for(var c=g;;){var e=f(c+1);if(e==null){break}++c}return{from:a.Pos(g,d+1),to:b.clipPos(a.Pos(c))}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(i){var m=i.Pos;function l(r,q){return r.line-q.line||r.ch-q.ch}var j="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var o=j+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040";var d=new RegExp("<(/?)(["+j+"]["+o+"]*)","g");function b(q,r,t,s){this.line=r;this.ch=t;this.cm=q;this.text=q.getLine(r);this.min=s?Math.max(s.from,q.firstLine()):q.firstLine();this.max=s?Math.min(s.to-1,q.lastLine()):q.lastLine()}function h(q,s){var r=q.cm.getTokenTypeAt(m(q.line,s));return r&&/\btag\b/.test(r)}function a(q){if(q.line>=q.max){return}q.ch=0;q.text=q.cm.getLine(++q.line);return true}function n(q){if(q.line<=q.min){return}q.text=q.cm.getLine(--q.line);q.ch=q.text.length;return true}function g(s){for(;;){var r=s.text.indexOf(">",s.ch);if(r==-1){if(a(s)){continue}else{return}}if(!h(s,r+1)){s.ch=r+1;continue}var q=s.text.lastIndexOf("/",r);var t=q>-1&&!/\S/.test(s.text.slice(q+1,r));s.ch=r+1;return t?"selfClose":"regular"}}function k(r){for(;;){var q=r.ch?r.text.lastIndexOf("<",r.ch-1):-1;if(q==-1){if(n(r)){continue}else{return}}if(!h(r,q+1)){r.ch=q;continue}d.lastIndex=q;r.ch=q;var s=d.exec(r.text);if(s&&s.index==q){return s}}}function p(q){for(;;){d.lastIndex=q.ch;var r=d.exec(q.text);if(!r){if(a(q)){continue}else{return}}if(!h(q,r.index+1)){q.ch=r.index+1;continue}q.ch=r.index+r[0].length;return r}}function e(s){for(;;){var r=s.ch?s.text.lastIndexOf(">",s.ch-1):-1;if(r==-1){if(n(s)){continue}else{return}}if(!h(s,r+1)){s.ch=r;continue}var q=s.text.lastIndexOf("/",r);var t=q>-1&&!/\S/.test(s.text.slice(q+1,r));s.ch=r+1;return t?"selfClose":"regular"}}function f(t,r){var q=[];for(;;){var v=p(t),s,x=t.line,w=t.ch-(v?v[0].length:0);if(!v||!(s=g(t))){return}if(s=="selfClose"){continue}if(v[1]){for(var u=q.length-1;u>=0;--u){if(q[u]==v[2]){q.length=u;break}}if(u<0&&(!r||r==v[2])){return{tag:v[2],from:m(x,w),to:m(t.line,t.ch)}}}else{q.push(v[2])}}}function c(s,r){var q=[];for(;;){var w=e(s);if(!w){return}if(w=="selfClose"){k(s);continue}var v=s.line,u=s.ch;var x=k(s);if(!x){return}if(x[1]){q.push(x[2])}else{for(var t=q.length-1;t>=0;--t){if(q[t]==x[2]){q.length=t;break}}if(t<0&&(!r||r==x[2])){return{tag:x[2],from:m(s.line,s.ch),to:m(v,u)}}}}}i.registerHelper("fold","xml",function(q,w){var s=new b(q,w.line,0);for(;;){var v=p(s),r;if(!v||!(r=g(s))||s.line!=w.line){return}if(!v[1]&&r!="selfClose"){var u=m(s.line,s.ch);var t=f(s,v[2]);return t&&{from:u,to:t.from}}}});i.findMatchingTag=function(q,x,t){var s=new b(q,x.line,x.ch,t);if(s.text.indexOf(">")==-1&&s.text.indexOf("<")==-1){return}var r=g(s),w=r&&m(s.line,s.ch);var v=r&&k(s);if(!r||!v||l(s,x)>0){return}var u={from:m(s.line,s.ch),to:w,tag:v[2]};if(r=="selfClose"){return{open:u,close:null,at:"open"}}if(v[1]){return{open:c(s,v[2]),close:u,at:"close"}}else{s=new b(q,w.line,w.ch,t);return{open:u,close:f(s,v[2]),at:"open"}}};i.findEnclosingTag=function(r,x,t,q){var s=new b(r,x.line,x.ch,t);for(;;){var v=c(s,q);if(!v){break}var u=new b(r,x.line,x.ch,t);var w=f(u,v.tag);if(w){return{open:v,close:w}}}};i.scanForClosingTag=function(q,u,t,s){var r=new b(q,u.line,u.ch,s?{from:0,to:s}:null);return f(r,t)}});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){function b(c,f){var d=c.getLine(f);var e=d.search(/\S/);if(e==-1||/\bcomment\b/.test(c.getTokenTypeAt(a.Pos(f,e+1)))){return -1}return a.countColumn(d,null,c.getOption("tabSize"))}a.registerHelper("fold","indent",function(d,j){var f=b(d,j.line);if(f<0){return}var h=null;for(var g=j.line+1,e=d.lastLine();g<=e;++g){var c=b(d,g);if(c==-1){}else{if(c>f){h=g}else{break}}}if(h){return{from:a.Pos(j.line,d.getLine(j.line).length),to:a.Pos(h,d.getLine(h).length)}}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerHelper("fold","markdown",function(j,e){var f=100;function c(n){var m=j.getTokenTypeAt(a.Pos(n,0));return m&&/\bheader\b/.test(m)}function k(p,m,o){var n=m&&m.match(/^#+/);if(n&&c(p)){return n[0].length}n=o&&o.match(/^[=\-]+\s*$/);if(n&&c(p+1)){return o[0]=="="?1:2}return f}var i=j.getLine(e.line),d=j.getLine(e.line+1);var b=k(e.line,i,d);if(b===f){return undefined}var l=j.lastLine();var g=e.line,h=j.getLine(g+2);while(g<l){if(k(g+1,d,h)<=b){break}++g;d=h;h=j.getLine(g+2)}return{from:a.Pos(e.line,i.length),to:a.Pos(g,j.getLine(g).length)}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.registerGlobalHelper("fold","comment",function(b){return b.blockCommentStart&&b.blockCommentEnd},function(l,h){var q=l.getModeAt(h),j=q.blockCommentStart,e=q.blockCommentEnd;if(!j||!e){return}var n=h.line,g=l.getLine(n);var m;for(var r=h.ch,c=0;;){var o=r<=0?-1:g.lastIndexOf(j,r-1);if(o==-1){if(c==1){return}c=1;r=g.length;continue}if(c==1&&o<h.ch){return}if(/comment/.test(l.getTokenTypeAt(a.Pos(n,o+1)))&&(o==0||g.slice(o-e.length,o)==e||!/comment/.test(l.getTokenTypeAt(a.Pos(n,o))))){m=o+j.length;break}r=o-1}var v=1,d=l.lastLine(),f,s;outer:for(var u=n;u<=d;++u){var p=l.getLine(u),k=u==n?m:0;for(;;){var b=p.indexOf(j,k),t=p.indexOf(e,k);if(b<0){b=p.length}if(t<0){t=p.length}k=Math.min(b,t);if(k==p.length){break}if(k==b){++v}else{if(!--v){f=u;s=k;break outer}}++k}}if(f==null||n==f&&s==m){return}return{from:a.Pos(n,m),to:a.Pos(f,s)}})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("javascript",function(ak,aw){var o=ak.indentUnit;var E=aw.statementIndent;var aO=aw.jsonld;var D=aw.json||aO;var g=aw.typescript;var aH=aw.wordCharacters||/[\w$\xa1-\uffff]/;var aF=function(){function a1(a5){return{type:a5,style:"keyword"}}var aY=a1("keyword a"),a4=a1("keyword b"),a3=a1("keyword c"),a2=a1("keyword d");var aZ=a1("operator"),a0={type:"atom",style:"atom"};return{"if":a1("if"),"while":aY,"with":aY,"else":a4,"do":a4,"try":a4,"finally":a4,"return":a2,"break":a2,"continue":a2,"new":a1("new"),"delete":a3,"void":a3,"throw":a3,"debugger":a1("debugger"),"var":a1("var"),"const":a1("var"),let:a1("var"),"function":a1("function"),"catch":a1("catch"),"for":a1("for"),"switch":a1("switch"),"case":a1("case"),"default":a1("default"),"in":aZ,"typeof":aZ,"instanceof":aZ,"true":a0,"false":a0,"null":a0,"undefined":a0,"NaN":a0,"Infinity":a0,"this":a1("this"),"class":a1("class"),"super":a1("atom"),yield:a3,"export":a1("export"),"import":a1("import"),"extends":a3,await:a3}}();var W=/[+\-*&%=<>!?|~^@]/;var aE=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function J(a1){var aZ=false,aY,a0=false;while((aY=a1.next())!=null){if(!aZ){if(aY=="/"&&!a0){return}if(aY=="["){a0=true}else{if(a0&&aY=="]"){a0=false}}}aZ=!aZ&&aY=="\\"}}var ab,K;function R(a0,aZ,aY){ab=a0;K=aY;return aZ}function ad(a2,a0){var aY=a2.next();if(aY=='"'||aY=="'"){a0.tokenize=aa(aY);return a0.tokenize(a2,a0)}else{if(aY=="."&&a2.match(/^\d+(?:[eE][+\-]?\d+)?/)){return R("number","number")}else{if(aY=="."&&a2.match("..")){return R("spread","meta")}else{if(/[\[\]{}\(\),;\:\.]/.test(aY)){return R(aY)}else{if(aY=="="&&a2.eat(">")){return R("=>","operator")}else{if(aY=="0"&&a2.eat(/x/i)){a2.eatWhile(/[\da-f]/i);return R("number","number")}else{if(aY=="0"&&a2.eat(/o/i)){a2.eatWhile(/[0-7]/i);return R("number","number")}else{if(aY=="0"&&a2.eat(/b/i)){a2.eatWhile(/[01]/i);return R("number","number")}else{if(/\d/.test(aY)){a2.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/);return R("number","number")}else{if(aY=="/"){if(a2.eat("*")){a0.tokenize=aN;return aN(a2,a0)}else{if(a2.eat("/")){a2.skipToEnd();return R("comment","comment")}else{if(aV(a2,a0,1)){J(a2);a2.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/);return R("regexp","string-2")}else{a2.eat("=");return R("operator","operator",a2.current())}}}}else{if(aY=="`"){a0.tokenize=aQ;return aQ(a2,a0)}else{if(aY=="#"){a2.skipToEnd();return R("error","error")}else{if(W.test(aY)){if(aY!=">"||!a0.lexical||a0.lexical.type!=">"){if(a2.eat("=")){if(aY=="!"||aY=="="){a2.eat("=")}}else{if(/[<>*+\-]/.test(aY)){a2.eat(aY);if(aY==">"){a2.eat(aY)}}}}return R("operator","operator",a2.current())}else{if(aH.test(aY)){a2.eatWhile(aH);var a1=a2.current();if(a0.lastType!="."){if(aF.propertyIsEnumerable(a1)){var aZ=aF[a1];return R(aZ.type,aZ.style,a1)}if(a1=="async"&&a2.match(/^(\s|\/\*.*?\*\/)*[\(\w]/,false)){return R("async","keyword",a1)}}return R("variable","variable",a1)}}}}}}}}}}}}}}}function aa(aY){return function(a2,a0){var a1=false,aZ;if(aO&&a2.peek()=="@"&&a2.match(aE)){a0.tokenize=ad;return R("jsonld-keyword","meta")}while((aZ=a2.next())!=null){if(aZ==aY&&!a1){break}a1=!a1&&aZ=="\\"}if(!a1){a0.tokenize=ad}return R("string","string")}}function aN(a1,a0){var aY=false,aZ;while(aZ=a1.next()){if(aZ=="/"&&aY){a0.tokenize=ad;break}aY=(aZ=="*")}return R("comment","comment")}function aQ(a1,aZ){var a0=false,aY;while((aY=a1.next())!=null){if(!a0&&(aY=="`"||aY=="$"&&a1.eat("{"))){aZ.tokenize=ad;break}a0=!a0&&aY=="\\"}return R("quasi","string-2",a1.current())}var p="([{}])";function aK(a6,a0){if(a0.fatArrowAt){a0.fatArrowAt=null}var a5=a6.string.indexOf("=>",a6.start);if(a5<0){return}if(g){var a2=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(a6.string.slice(a6.start,a5));if(a2){a5=a2.index}}var a3=0,a1=false;for(var a4=a5-1;a4>=0;--a4){var aY=a6.string.charAt(a4);var aZ=p.indexOf(aY);if(aZ>=0&&aZ<3){if(!a3){++a4;break}if(--a3==0){if(aY=="("){a1=true}break}}else{if(aZ>=3&&aZ<6){++a3}else{if(aH.test(aY)){a1=true}else{if(/["'\/]/.test(aY)){return}else{if(a1&&!a3){++a4;break}}}}}}if(a1&&!a3){a0.fatArrowAt=a4}}var b={atom:true,number:true,variable:true,string:true,regexp:true,"this":true,"jsonld-keyword":true};function P(a3,aZ,aY,a2,a0,a1){this.indented=a3;this.column=aZ;this.type=aY;this.prev=a0;this.info=a1;if(a2!=null){this.align=a2}}function w(a1,a0){for(var aZ=a1.localVars;aZ;aZ=aZ.next){if(aZ.name==a0){return true}}for(var aY=a1.context;aY;aY=aY.prev){for(var aZ=aY.vars;aZ;aZ=aZ.next){if(aZ.name==a0){return true}}}}function f(a2,aZ,aY,a1,a3){var a4=a2.cc;I.state=a2;I.stream=a3;I.marked=null,I.cc=a4;I.style=aZ;if(!a2.lexical.hasOwnProperty("align")){a2.lexical.align=true}while(true){var a0=a4.length?a4.pop():D?aA:aU;if(a0(aY,a1)){while(a4.length&&a4[a4.length-1].lex){a4.pop()()}if(I.marked){return I.marked}if(aY=="variable"&&w(a2,a1)){return"variable-2"}return aZ}}}var I={state:null,column:null,marked:null,cc:null};function al(){for(var aY=arguments.length-1;aY>=0;aY--){I.cc.push(arguments[aY])}}function aq(){al.apply(null,arguments);return true}function aJ(aZ){function aY(a2){for(var a1=a2;a1;a1=a1.next){if(a1.name==aZ){return true}}return false}var a0=I.state;I.marked="def";if(a0.context){if(aY(a0.localVars)){return}a0.localVars={name:aZ,next:a0.localVars}}else{if(aY(a0.globalVars)){return}if(aw.globalVars){a0.globalVars={name:aZ,next:a0.globalVars}}}}function ax(aY){return aY=="public"||aY=="private"||aY=="protected"||aY=="abstract"||aY=="readonly"}var u={name:"this",next:{name:"arguments"}};function A(){I.state.context={prev:I.state.context,vars:I.state.localVars};I.state.localVars=u}function B(){I.state.localVars=I.state.context.vars;I.state.context=I.state.context.prev}function aS(aZ,a0){var aY=function(){var a3=I.state,a1=a3.indented;if(a3.lexical.type=="stat"){a1=a3.lexical.indented}else{for(var a2=a3.lexical;a2&&a2.type==")"&&a2.align;a2=a2.prev){a1=a2.indented}}a3.lexical=new P(a1,I.stream.column(),aZ,null,a3.lexical,a0)};aY.lex=true;return aY}function h(){var aY=I.state;if(aY.lexical.prev){if(aY.lexical.type==")"){aY.indented=aY.lexical.indented}aY.lexical=aY.lexical.prev}}h.lex=true;function v(aY){function aZ(a0){if(a0==aY){return aq()}else{if(aY==";"){return al()}else{return aq(aZ)}}}return aZ}function aU(aY,aZ){if(aY=="var"){return aq(aS("vardef",aZ.length),c,v(";"),h)}if(aY=="keyword a"){return aq(aS("form"),aB,aU,h)}if(aY=="keyword b"){return aq(aS("form"),aU,h)}if(aY=="keyword d"){return I.stream.match(/^\s*$/,false)?aq():aq(aS("stat"),av,v(";"),h)}if(aY=="debugger"){return aq(v(";"))}if(aY=="{"){return aq(aS("}"),C,h)}if(aY==";"){return aq()}if(aY=="if"){if(I.state.lexical.info=="else"&&I.state.cc[I.state.cc.length-1]==h){I.state.cc.pop()()}return aq(aS("form"),aB,aU,h,d)}if(aY=="function"){return aq(S)}if(aY=="for"){return aq(aS("form"),y,aU,h)}if(aY=="class"||(g&&aZ=="interface")){I.marked="keyword";return aq(aS("form"),ag,h)}if(aY=="variable"){if(g&&aZ=="declare"){I.marked="keyword";return aq(aU)}else{if(g&&(aZ=="module"||aZ=="enum"||aZ=="type")&&I.stream.match(/^\s*\w/,false)){I.marked="keyword";if(aZ=="enum"){return aq(aI)}else{if(aZ=="type"){return aq(j,v("operator"),j,v(";"))}else{return aq(aS("form"),i,v("{"),aS("}"),C,h,h)}}}else{if(g&&aZ=="namespace"){I.marked="keyword";return aq(aS("form"),aA,C,h)}else{if(g&&aZ=="abstract"){I.marked="keyword";return aq(aU)}else{return aq(aS("stat"),aW)}}}}}if(aY=="switch"){return aq(aS("form"),aB,v("{"),aS("}","switch"),C,h,h)}if(aY=="case"){return aq(aA,v(":"))}if(aY=="default"){return aq(v(":"))}if(aY=="catch"){return aq(aS("form"),A,v("("),ap,v(")"),aU,h,B)}if(aY=="export"){return aq(aS("stat"),aT,h)}if(aY=="import"){return aq(aS("stat"),ar,h)}if(aY=="async"){return aq(aU)}if(aZ=="@"){return aq(aA,aU)}return al(aS("stat"),aA,v(";"),h)}function aA(aY,aZ){return aj(aY,aZ,false)}function aR(aY,aZ){return aj(aY,aZ,true)}function aB(aY){if(aY!="("){return al()}return aq(aS(")"),aA,v(")"),h)}function aj(aZ,a0,a2){if(I.state.fatArrowAt==I.stream.start){var aY=a2?T:ah;if(aZ=="("){return aq(A,aS(")"),aG(ap,")"),h,v("=>"),aY,B)}else{if(aZ=="variable"){return al(A,i,v("=>"),aY,B)}}}var a1=a2?k:am;if(b.hasOwnProperty(aZ)){return aq(a1)}if(aZ=="function"){return aq(S,a1)}if(aZ=="class"||(g&&a0=="interface")){I.marked="keyword";return aq(aS("form"),N,h)}if(aZ=="keyword c"||aZ=="async"){return aq(a2?aR:aA)}if(aZ=="("){return aq(aS(")"),av,v(")"),h,a1)}if(aZ=="operator"||aZ=="spread"){return aq(a2?aR:aA)}if(aZ=="["){return aq(aS("]"),q,h,a1)}if(aZ=="{"){return aL(x,"}",null,a1)}if(aZ=="quasi"){return al(X,a1)}if(aZ=="new"){return aq(M(a2))}if(aZ=="import"){return aq(aA)}return aq()}function av(aY){if(aY.match(/[;\}\)\],]/)){return al()}return al(aA)}function am(aY,aZ){if(aY==","){return aq(aA)}return k(aY,aZ,false)}function k(aY,a0,a2){var aZ=a2==false?am:k;var a1=a2==false?aA:aR;if(aY=="=>"){return aq(A,a2?T:ah,B)}if(aY=="operator"){if(/\+\+|--/.test(a0)||g&&a0=="!"){return aq(aZ)}if(g&&a0=="<"&&I.stream.match(/^([^>]|<.*?>)*>\s*\(/,false)){return aq(aS(">"),aG(j,">"),h,aZ)}if(a0=="?"){return aq(aA,v(":"),a1)}return aq(a1)}if(aY=="quasi"){return al(X,aZ)}if(aY==";"){return}if(aY=="("){return aL(aR,")","call",aZ)}if(aY=="."){return aq(ay,aZ)}if(aY=="["){return aq(aS("]"),av,v("]"),h,aZ)}if(g&&a0=="as"){I.marked="keyword";return aq(j,aZ)}if(aY=="regexp"){I.state.lastType=I.marked="operator";I.stream.backUp(I.stream.pos-I.stream.start-1);return aq(a1)}}function X(aY,aZ){if(aY!="quasi"){return al()}if(aZ.slice(aZ.length-2)!="${"){return aq(X)}return aq(aA,t)}function t(aY){if(aY=="}"){I.marked="string-2";I.state.tokenize=aQ;return aq(X)}}function ah(aY){aK(I.stream,I.state);return al(aY=="{"?aU:aA)}function T(aY){aK(I.stream,I.state);return al(aY=="{"?aU:aR)}function M(aY){return function(aZ){if(aZ=="."){return aq(aY?r:af)}else{if(aZ=="variable"&&g){return aq(e,aY?k:am)}else{return al(aY?aR:aA)}}}}function af(aY,aZ){if(aZ=="target"){I.marked="keyword";return aq(am)}}function r(aY,aZ){if(aZ=="target"){I.marked="keyword";return aq(k)}}function aW(aY){if(aY==":"){return aq(h,aU)}return al(am,v(";"),h)}function ay(aY){if(aY=="variable"){I.marked="property";return aq()}}function x(aZ,a0){if(aZ=="async"){I.marked="property";return aq(x)}else{if(aZ=="variable"||I.style=="keyword"){I.marked="property";if(a0=="get"||a0=="set"){return aq(O)}var aY;if(g&&I.state.fatArrowAt==I.stream.start&&(aY=I.stream.match(/^\s*:\s*/,false))){I.state.fatArrowAt=I.stream.pos+aY[0].length}return aq(Q)}else{if(aZ=="number"||aZ=="string"){I.marked=aO?"property":(I.style+" property");return aq(Q)}else{if(aZ=="jsonld-keyword"){return aq(Q)}else{if(g&&ax(a0)){I.marked="keyword";return aq(x)}else{if(aZ=="["){return aq(aA,ac,v("]"),Q)}else{if(aZ=="spread"){return aq(aR,Q)}else{if(a0=="*"){I.marked="keyword";return aq(x)}else{if(aZ==":"){return al(Q)}}}}}}}}}}function O(aY){if(aY!="variable"){return al(Q)}I.marked="property";return aq(S)}function Q(aY){if(aY==":"){return aq(aR)}if(aY=="("){return al(S)}}function aG(a1,aY,aZ){function a0(a3,a4){if(aZ?aZ.indexOf(a3)>-1:a3==","){var a2=I.state.lexical;if(a2.info=="call"){a2.pos=(a2.pos||0)+1}return aq(function(a5,a6){if(a5==aY||a6==aY){return al()}return al(a1)},a0)}if(a3==aY||a4==aY){return aq()}return aq(v(aY))}return function(a2,a3){if(a2==aY||a3==aY){return aq()}return al(a1,a0)}}function aL(a1,aY,a0){for(var aZ=3;aZ<arguments.length;aZ++){I.cc.push(arguments[aZ])}return aq(aS(aY,a0),aG(a1,aY),h)}function C(aY){if(aY=="}"){return aq()}return al(aU,C)}function ac(aY,aZ){if(g){if(aY==":"){return aq(j)}if(aZ=="?"){return aq(ac)}}}function U(aY){if(g&&aY==":"){if(I.stream.match(/^\s*\w+\s+is\b/,false)){return aq(aA,Y,j)}else{return aq(j)}}}function Y(aY,aZ){if(aZ=="is"){I.marked="keyword";return aq()}}function j(aY,aZ){if(aZ=="keyof"||aZ=="typeof"){I.marked="keyword";return aq(aZ=="keyof"?j:aA)}if(aY=="variable"||aZ=="void"){I.marked="type";return aq(L)}if(aY=="string"||aY=="number"||aY=="atom"){return aq(L)}if(aY=="["){return aq(aS("]"),aG(j,"]",","),h,L)}if(aY=="{"){return aq(aS("}"),aG(az,"}",",;"),h,L)}if(aY=="("){return aq(aG(an,")"),Z)}if(aY=="<"){return aq(aG(j,">"),j)}}function Z(aY){if(aY=="=>"){return aq(j)}}function az(aY,aZ){if(aY=="variable"||I.style=="keyword"){I.marked="property";return aq(az)}else{if(aZ=="?"){return aq(az)}else{if(aY==":"){return aq(j)}else{if(aY=="["){return aq(aA,ac,v("]"),az)}}}}}function an(aY,aZ){if(aY=="variable"&&I.stream.match(/^\s*[?:]/,false)||aZ=="?"){return aq(an)}if(aY==":"){return aq(j)}return al(j)}function L(aY,aZ){if(aZ=="<"){return aq(aS(">"),aG(j,">"),h,L)}if(aZ=="|"||aY=="."||aZ=="&"){return aq(j)}if(aY=="["){return aq(v("]"),L)}if(aZ=="extends"||aZ=="implements"){I.marked="keyword";return aq(j)}}function e(aY,aZ){if(aZ=="<"){return aq(aS(">"),aG(j,">"),h,L)}}function n(){return al(j,ae)}function ae(aY,aZ){if(aZ=="="){return aq(j)}}function c(aY,aZ){if(aZ=="enum"){I.marked="keyword";return aq(aI)}return al(i,ac,ao,ai)}function i(aY,aZ){if(g&&ax(aZ)){I.marked="keyword";return aq(i)}if(aY=="variable"){aJ(aZ);return aq()}if(aY=="spread"){return aq(i)}if(aY=="["){return aL(i,"]")}if(aY=="{"){return aL(aP,"}")}}function aP(aY,aZ){if(aY=="variable"&&!I.stream.match(/^\s*:/,false)){aJ(aZ);return aq(ao)}if(aY=="variable"){I.marked="property"}if(aY=="spread"){return aq(i)}if(aY=="}"){return al()}return aq(v(":"),i,ao)}function ao(aY,aZ){if(aZ=="="){return aq(aR)}}function ai(aY){if(aY==","){return aq(c)}}function d(aY,aZ){if(aY=="keyword b"&&aZ=="else"){return aq(aS("form","else"),aU,h)}}function y(aY,aZ){if(aZ=="await"){return aq(y)}if(aY=="("){return aq(aS(")"),H,v(")"),h)}}function H(aY){if(aY=="var"){return aq(c,v(";"),G)}if(aY==";"){return aq(G)}if(aY=="variable"){return aq(z)}return al(aA,v(";"),G)}function z(aY,aZ){if(aZ=="in"||aZ=="of"){I.marked="keyword";return aq(aA)}return aq(am,G)}function G(aY,aZ){if(aY==";"){return aq(F)}if(aZ=="in"||aZ=="of"){I.marked="keyword";return aq(aA)}return al(aA,v(";"),F)}function F(aY){if(aY!=")"){aq(aA)}}function S(aY,aZ){if(aZ=="*"){I.marked="keyword";return aq(S)}if(aY=="variable"){aJ(aZ);return aq(S)}if(aY=="("){return aq(A,aS(")"),aG(ap,")"),h,U,aU,B)}if(g&&aZ=="<"){return aq(aS(">"),aG(n,">"),h,S)}}function ap(aY,aZ){if(aZ=="@"){aq(aA,ap)}if(aY=="spread"){return aq(ap)}if(g&&ax(aZ)){I.marked="keyword";return aq(ap)}return al(i,ac,ao)}function N(aY,aZ){if(aY=="variable"){return ag(aY,aZ)}return V(aY,aZ)}function ag(aY,aZ){if(aY=="variable"){aJ(aZ);return aq(V)}}function V(aY,aZ){if(aZ=="<"){return aq(aS(">"),aG(n,">"),h,V)}if(aZ=="extends"||aZ=="implements"||(g&&aY==",")){if(aZ=="implements"){I.marked="keyword"}return aq(g?j:aA,V)}if(aY=="{"){return aq(aS("}"),s,h)}}function s(aY,aZ){if(aY=="async"||(aY=="variable"&&(aZ=="static"||aZ=="get"||aZ=="set"||(g&&ax(aZ)))&&I.stream.match(/^\s+[\w$\xa1-\uffff]/,false))){I.marked="keyword";return aq(s)}if(aY=="variable"||I.style=="keyword"){I.marked="property";return aq(g?aX:S,s)}if(aY=="["){return aq(aA,ac,v("]"),g?aX:S,s)}if(aZ=="*"){I.marked="keyword";return aq(s)}if(aY==";"){return aq(s)}if(aY=="}"){return aq()}if(aZ=="@"){return aq(aA,s)}}function aX(aY,aZ){if(aZ=="?"){return aq(aX)}if(aY==":"){return aq(j,ao)}if(aZ=="="){return aq(aR)}return al(S)}function aT(aY,aZ){if(aZ=="*"){I.marked="keyword";return aq(au,v(";"))}if(aZ=="default"){I.marked="keyword";return aq(aA,v(";"))}if(aY=="{"){return aq(aG(at,"}"),au,v(";"))}return al(aU)}function at(aY,aZ){if(aZ=="as"){I.marked="keyword";return aq(v("variable"))}if(aY=="variable"){return al(aR,at)}}function ar(aY){if(aY=="string"){return aq()}if(aY=="("){return al(aA)}return al(aD,m,au)}function aD(aY,aZ){if(aY=="{"){return aL(aD,"}")}if(aY=="variable"){aJ(aZ)}if(aZ=="*"){I.marked="keyword"}return aq(l)}function m(aY){if(aY==","){return aq(aD,m)}}function l(aY,aZ){if(aZ=="as"){I.marked="keyword";return aq(aD)}}function au(aY,aZ){if(aZ=="from"){I.marked="keyword";return aq(aA)}}function q(aY){if(aY=="]"){return aq()}return al(aG(aR,"]"))}function aI(){return al(aS("form"),i,v("{"),aS("}"),aG(aM,"}"),h,h)}function aM(){return al(i,ao)}function aC(aZ,aY){return aZ.lastType=="operator"||aZ.lastType==","||W.test(aY.charAt(0))||/[,.]/.test(aY.charAt(0))}function aV(a0,aZ,aY){return aZ.tokenize==ad&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(aZ.lastType)||(aZ.lastType=="quasi"&&/\{\s*$/.test(a0.string.slice(0,a0.pos-(aY||0))))}return{startState:function(aZ){var aY={tokenize:ad,lastType:"sof",cc:[],lexical:new P((aZ||0)-o,0,"block",false),localVars:aw.localVars,context:aw.localVars&&{vars:aw.localVars},indented:aZ||0};if(aw.globalVars&&typeof aw.globalVars=="object"){aY.globalVars=aw.globalVars}return aY},token:function(a0,aZ){if(a0.sol()){if(!aZ.lexical.hasOwnProperty("align")){aZ.lexical.align=false}aZ.indented=a0.indentation();aK(a0,aZ)}if(aZ.tokenize!=aN&&a0.eatSpace()){return null}var aY=aZ.tokenize(a0,aZ);if(ab=="comment"){return aY}aZ.lastType=ab=="operator"&&(K=="++"||K=="--")?"incdec":ab;return f(aZ,aY,ab,K,a0)},indent:function(aY,a1){if(aY.tokenize==aN){return a.Pass}if(aY.tokenize!=ad){return 0}var a5=a1&&a1.charAt(0),a6=aY.lexical,a4;if(!/^\s*else\b/.test(a1)){for(var a0=aY.cc.length-1;a0>=0;--a0){var a2=aY.cc[a0];if(a2==h){a6=a6.prev}else{if(a2!=d){break}}}}while((a6.type=="stat"||a6.type=="form")&&(a5=="}"||((a4=aY.cc[aY.cc.length-1])&&(a4==am||a4==k)&&!/^[,\.=+\-*:?[\(]/.test(a1)))){a6=a6.prev}if(E&&a6.type==")"&&a6.prev.type=="stat"){a6=a6.prev}var a3=a6.type,aZ=a5==a3;if(a3=="vardef"){return a6.indented+(aY.lastType=="operator"||aY.lastType==","?a6.info+1:0)}else{if(a3=="form"&&a5=="{"){return a6.indented}else{if(a3=="form"){return a6.indented+o}else{if(a3=="stat"){return a6.indented+(aC(aY,a1)?E||o:0)}else{if(a6.info=="switch"&&!aZ&&aw.doubleIndentSwitch!=false){return a6.indented+(/^(?:case|default)\b/.test(a1)?o:2*o)}else{if(a6.align){return a6.column+(aZ?0:1)}else{return a6.indented+(aZ?0:o)}}}}}}},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:D?null:"/*",blockCommentEnd:D?null:"*/",blockCommentContinue:D?null:" * ",lineComment:D?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:D?"json":"javascript",jsonldMode:aO,jsonMode:D,expressionAllowed:aV,skipExpression:function(aY){var aZ=aY.cc[aY.cc.length-1];if(aZ==aA||aZ==aR){aY.cc.pop()}}}});a.registerHelper("wordChars","javascript",/[\w$]/);a.defineMIME("text/javascript","javascript");a.defineMIME("text/ecmascript","javascript");a.defineMIME("application/javascript","javascript");a.defineMIME("application/x-javascript","javascript");a.defineMIME("application/ecmascript","javascript");a.defineMIME("application/json",{name:"javascript",json:true});a.defineMIME("application/x-json",{name:"javascript",json:true});a.defineMIME("application/ld+json",{name:"javascript",jsonld:true});a.defineMIME("text/typescript",{name:"javascript",typescript:true});a.defineMIME("application/typescript",{name:"javascript",typescript:true})});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],a)}else{a(CodeMirror)}}})(function(d){var g={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function f(n,j,k){var m=n.current(),l=m.search(j);if(l>-1){n.backUp(m.length-l)}else{if(m.match(/<\/?$/)){n.backUp(m.length);if(!n.match(j,false)){n.match(m)}}}return k}var e={};function c(j){var k=e[j];if(k){return k}return e[j]=new RegExp("\\s+"+j+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")}function a(l,j){var k=l.match(c(j));return k?/^\s*(.*?)\s*$/.exec(k[2])[1]:""}function i(k,j){return new RegExp((j?"^":"")+"</s*"+k+"s*>","i")}function h(o,n){for(var j in o){var k=n[j]||(n[j]=[]);var m=o[j];for(var l=m.length-1;l>=0;l--){k.unshift(m[l])}}}function b(l,m){for(var k=0;k<l.length;k++){var j=l[k];if(!j[0]||j[1].test(a(m,j[0]))){return j[2]}}}d.defineMode("htmlmixed",function(k,o){var q=d.getMode(k,{name:"xml",htmlMode:true,multilineTagIndentFactor:o.multilineTagIndentFactor,multilineTagIndentPastTag:o.multilineTagIndentPastTag});var j={};var p=o&&o.tags,n=o&&o.scriptTypes;h(g,j);if(p){h(p,j)}if(n){for(var m=n.length-1;m>=0;m--){j.script.unshift(["type",n[m].matches,n[m].mode])}}function l(z,r){var s=q.token(z,r.htmlState),A=/\btag\b/.test(s),u;if(A&&!/[<>\s\/]/.test(z.current())&&(u=r.htmlState.tagName&&r.htmlState.tagName.toLowerCase())&&j.hasOwnProperty(u)){r.inTag=u+" "}else{if(r.inTag&&A&&/>$/.test(z.current())){var t=/^([\S]+) (.*)/.exec(r.inTag);r.inTag=null;var y=z.current()==">"&&b(j[t[1]],t[2]);var x=d.getMode(k,y);var w=i(t[1],true),v=i(t[1],false);r.token=function(C,B){if(C.match(w,false)){B.token=l;B.localState=B.localMode=null;return null}return f(C,v,B.localMode.token(C,B.localState))};r.localMode=x;r.localState=d.startState(x,q.indent(r.htmlState,""))}else{if(r.inTag){r.inTag+=z.current();if(z.eol()){r.inTag+=" "}}}}return s}return{startState:function(){var r=d.startState(q);return{token:l,inTag:null,localMode:null,localState:null,htmlState:r}},copyState:function(s){var r;if(s.localState){r=d.copyState(s.localMode,s.localState)}return{token:s.token,inTag:s.inTag,localMode:s.localMode,localState:r,htmlState:d.copyState(q,s.htmlState)}},token:function(s,r){return r.token(s,r)},indent:function(t,s,r){if(!t.localMode||/^\s*<\//.test(s)){return q.indent(t.htmlState,s)}else{if(t.localMode.indent){return t.localMode.indent(t.localState,s,r)}else{return d.Pass}}},innerMode:function(r){return{state:r.localState||r.htmlState,mode:r.localMode||q}}}},"xml","javascript","css");d.defineMIME("text/html","htmlmixed")});(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"),require("../xml/xml"),require("../meta"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror","../xml/xml","../meta"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("markdown",function(G,o){var j=a.getMode(G,"text/html");var d=j.name=="null";function g(K){if(a.findModeByName){var L=a.findModeByName(K);if(L){K=L.mime||L.mimes[0]}}var M=a.getMode(G,K);return M.name=="null"?null:M}if(o.highlightFormatting===undefined){o.highlightFormatting=false}if(o.maxBlockquoteDepth===undefined){o.maxBlockquoteDepth=0}if(o.taskLists===undefined){o.taskLists=false}if(o.strikethrough===undefined){o.strikethrough=false}if(o.emoji===undefined){o.emoji=false}if(o.fencedCodeBlockHighlighting===undefined){o.fencedCodeBlockHighlighting=true}if(o.xml===undefined){o.xml=true}if(o.tokenTypeOverrides===undefined){o.tokenTypeOverrides={}}var q={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var I in q){if(q.hasOwnProperty(I)&&o.tokenTypeOverrides[I]){q[I]=o.tokenTypeOverrides[I]}}var J=/^([*\-_])(?:\s*\1){2,}\s*$/,B=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,D=/^\[(x| )\](?=\s)/i,p=o.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,F=/^ *(?:\={1,}|-{1,})\s*$/,h=/^[^#!\[\]*_\\<>` "'(~:]+/,E=/^(~~~+|```+)[ \t]*([\w+#-]*)[^\n`]*$/,z=/^\s*\[[^\]]+?\]:.*$/,l=/[!\"#$%&\'()*+,\-\.\/:;<=>?@\[\\\]^_`{|}~â€”]/,u="    ";function f(M,L,K){L.f=L.inline=K;return K(M,L)}function w(M,L,K){L.f=L.block=K;return K(M,L)}function t(K){return !K||!/\S/.test(K.string)}function s(K){K.linkTitle=false;K.linkHref=false;K.linkText=false;K.em=false;K.strong=false;K.strikethrough=false;K.quote=0;K.indentedCode=false;if(K.f==A){K.f=v;K.block=n}K.trailingSpace=0;K.trailingSpaceNewLine=false;K.prevLine=K.thisLine;K.thisLine={stream:null};return null}function n(W,L){var R=W.column()===L.indentation;var M=t(L.prevLine.stream);var K=L.indentedCode;var N=L.prevLine.hr;var V=L.list!==false;var S=(L.listStack[L.listStack.length-1]||0)+3;L.indentedCode=false;var P=L.indentation;if(L.indentationDiff===null){L.indentationDiff=L.indentation;if(V){L.em=false;L.strong=false;L.code=false;L.strikethrough=false;L.list=null;while(P<L.listStack[L.listStack.length-1]){L.listStack.pop();if(L.listStack.length){L.indentation=L.listStack[L.listStack.length-1]}else{L.list=false}}if(L.list!==false){L.indentationDiff=P-L.listStack[L.listStack.length-1]}}}var U=(!M&&!N&&!L.prevLine.header&&(!V||!K)&&!L.prevLine.fencedCodeEnd);var Q=(L.list===false||N||M)&&L.indentation<=S&&W.match(J);var O=null;if(L.indentationDiff>=4&&(K||L.prevLine.fencedCodeEnd||L.prevLine.header||M)){W.skipToEnd();L.indentedCode=true;return q.code}else{if(W.eatSpace()){return null}else{if(R&&L.indentation<=S&&(O=W.match(p))&&O[1].length<=6){L.quote=0;L.header=O[1].length;L.thisLine.header=true;if(o.highlightFormatting){L.formatting="header"}L.f=L.inline;return y(L)}else{if(L.indentation<=S&&W.eat(">")){L.quote=R?1:L.quote+1;if(o.highlightFormatting){L.formatting="quote"}W.eatSpace();return y(L)}else{if(!Q&&!L.setext&&R&&L.indentation<=S&&(O=W.match(B))){var T=O[1]?"ol":"ul";L.indentation=P+W.current().length;L.list=true;L.quote=0;L.listStack.push(L.indentation);if(o.taskLists&&W.match(D,false)){L.taskList=true}L.f=L.inline;if(o.highlightFormatting){L.formatting=["list","list-"+T]}return y(L)}else{if(R&&L.indentation<=S&&(O=W.match(E,true))){L.quote=0;L.fencedEndRE=new RegExp(O[1]+"+ *$");L.localMode=o.fencedCodeBlockHighlighting&&g(O[2]);if(L.localMode){L.localState=a.startState(L.localMode)}L.f=L.block=x;if(o.highlightFormatting){L.formatting="code-block"}L.code=-1;return y(L)}else{if(L.setext||((!U||!V)&&!L.quote&&L.list===false&&!L.code&&!Q&&!z.test(W.string)&&(O=W.lookAhead(1))&&(O=O.match(F)))){if(!L.setext){L.header=O[0].charAt(0)=="="?1:2;L.setext=L.header}else{L.header=L.setext;L.setext=0;W.skipToEnd();if(o.highlightFormatting){L.formatting="header"}}L.thisLine.header=true;L.f=L.inline;return y(L)}else{if(Q){W.skipToEnd();L.hr=true;L.thisLine.hr=true;return q.hr}else{if(W.peek()==="["){return f(W,L,m)}}}}}}}}}return f(W,L,L.inline)}function A(N,M){var L=j.token(N,M.htmlState);if(!d){var K=a.innerMode(j,M.htmlState);if((K.mode.name=="xml"&&K.state.tagStart===null&&(!K.state.context&&K.state.tokenize.isInText))||(M.md_inside&&N.current().indexOf(">")>-1)){M.f=v;M.block=n;M.htmlState=null}}return L}function x(P,O){var K=O.listStack[O.listStack.length-1]||0;var N=O.indentation<K;var M=K+3;if(O.fencedEndRE&&O.indentation<=M&&(N||P.match(O.fencedEndRE))){if(o.highlightFormatting){O.formatting="code-block"}var L;if(!N){L=y(O)}O.localMode=O.localState=null;O.block=n;O.f=v;O.fencedEndRE=null;O.code=0;O.thisLine.fencedCodeEnd=true;if(N){return w(P,O,O.block)}return L}else{if(O.localMode){return O.localMode.token(P,O.localState)}else{P.skipToEnd();return q.code}}}function y(N){var M=[];if(N.formatting){M.push(q.formatting);if(typeof N.formatting==="string"){N.formatting=[N.formatting]}for(var K=0;K<N.formatting.length;K++){M.push(q.formatting+"-"+N.formatting[K]);if(N.formatting[K]==="header"){M.push(q.formatting+"-"+N.formatting[K]+"-"+N.header)}if(N.formatting[K]==="quote"){if(!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=N.quote){M.push(q.formatting+"-"+N.formatting[K]+"-"+N.quote)}else{M.push("error")}}}}if(N.taskOpen){M.push("meta");return M.length?M.join(" "):null}if(N.taskClosed){M.push("property");return M.length?M.join(" "):null}if(N.linkHref){M.push(q.linkHref,"url")}else{if(N.strong){M.push(q.strong)}if(N.em){M.push(q.em)}if(N.strikethrough){M.push(q.strikethrough)}if(N.emoji){M.push(q.emoji)}if(N.linkText){M.push(q.linkText)}if(N.code){M.push(q.code)}if(N.image){M.push(q.image)}if(N.imageAltText){M.push(q.imageAltText,"link")}if(N.imageMarker){M.push(q.imageMarker)}}if(N.header){M.push(q.header,q.header+"-"+N.header)}if(N.quote){M.push(q.quote);if(!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=N.quote){M.push(q.quote+"-"+N.quote)}else{M.push(q.quote+"-"+o.maxBlockquoteDepth)}}if(N.list!==false){var L=(N.listStack.length-1)%3;if(!L){M.push(q.list1)}else{if(L===1){M.push(q.list2)}else{M.push(q.list3)}}}if(N.trailingSpaceNewLine){M.push("trailing-space-new-line")}else{if(N.trailingSpace){M.push("trailing-space-"+(N.trailingSpace%2?"a":"b"))}}return M.length?M.join(" "):null}function c(L,K){if(L.match(h,true)){return y(K)}return undefined}function v(Q,P){var ae=P.text(Q,P);if(typeof ae!=="undefined"){return ae}if(P.list){P.list=null;return y(P)}if(P.taskList){var Z=Q.match(D,true)[1]===" ";if(Z){P.taskOpen=true}else{P.taskClosed=true}if(o.highlightFormatting){P.formatting="task"}P.taskList=false;return y(P)}P.taskOpen=false;P.taskClosed=false;if(P.header&&Q.match(/^#+$/,true)){if(o.highlightFormatting){P.formatting="header"}return y(P)}var V=Q.next();if(P.linkTitle){P.linkTitle=false;var ac=V;if(V==="("){ac=")"}ac=(ac+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var M="^\\s*(?:[^"+ac+"\\\\]+|\\\\\\\\|\\\\.)"+ac;if(Q.match(new RegExp(M),true)){return q.linkHref}}if(V==="`"){var ab=P.formatting;if(o.highlightFormatting){P.formatting="code"}Q.eatWhile("`");var R=Q.current().length;if(P.code==0&&(!P.quote||R==1)){P.code=R;return y(P)}else{if(R==P.code){var X=y(P);P.code=0;return X}else{P.formatting=ab;return y(P)}}}else{if(P.code){return y(P)}}if(V==="\\"){Q.next();if(o.highlightFormatting){var N=y(P);var U=q.formatting+"-escape";return N?N+" "+U:U}}if(V==="!"&&Q.match(/\[[^\]]*\] ?(?:\(|\[)/,false)){P.imageMarker=true;P.image=true;if(o.highlightFormatting){P.formatting="image"}return y(P)}if(V==="["&&P.imageMarker&&Q.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,false)){P.imageMarker=false;P.imageAltText=true;if(o.highlightFormatting){P.formatting="image"}return y(P)}if(V==="]"&&P.imageAltText){if(o.highlightFormatting){P.formatting="image"}var N=y(P);P.imageAltText=false;P.image=false;P.inline=P.f=i;return N}if(V==="["&&!P.image){P.linkText=true;if(o.highlightFormatting){P.formatting="link"}return y(P)}if(V==="]"&&P.linkText){if(o.highlightFormatting){P.formatting="link"}var N=y(P);P.linkText=false;P.inline=P.f=Q.match(/\(.*?\)| ?\[.*?\]/,false)?i:v;return N}if(V==="<"&&Q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,false)){P.f=P.inline=C;if(o.highlightFormatting){P.formatting="link"}var N=y(P);if(N){N+=" "}else{N=""}return N+q.linkInline}if(V==="<"&&Q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,false)){P.f=P.inline=C;if(o.highlightFormatting){P.formatting="link"}var N=y(P);if(N){N+=" "}else{N=""}return N+q.linkEmail}if(o.xml&&V==="<"&&Q.match(/^(!--|[a-z]+(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*>)/i,false)){var O=Q.string.indexOf(">",Q.pos);if(O!=-1){var aa=Q.string.substring(Q.start,O);if(/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(aa)){P.md_inside=true}}Q.backUp(1);P.htmlState=a.startState(j);return w(Q,P,A)}if(o.xml&&V==="<"&&Q.match(/^\/\w*?>/)){P.md_inside=false;return"tag"}else{if(V==="*"||V==="_"){var ad=1,Y=Q.pos==1?" ":Q.string.charAt(Q.pos-2);while(ad<3&&Q.eat(V)){ad++}var L=Q.peek()||" ";var W=!/\s/.test(L)&&(!l.test(L)||/\s/.test(Y)||l.test(Y));var af=!/\s/.test(Y)&&(!l.test(Y)||/\s/.test(L)||l.test(L));var S=null,K=null;if(ad%2){if(!P.em&&W&&(V==="*"||!af||l.test(Y))){S=true}else{if(P.em==V&&af&&(V==="*"||!W||l.test(L))){S=false}}}if(ad>1){if(!P.strong&&W&&(V==="*"||!af||l.test(Y))){K=true}else{if(P.strong==V&&af&&(V==="*"||!W||l.test(L))){K=false}}}if(K!=null||S!=null){if(o.highlightFormatting){P.formatting=S==null?"strong":K==null?"em":"strong em"}if(S===true){P.em=V}if(K===true){P.strong=V}var X=y(P);if(S===false){P.em=false}if(K===false){P.strong=false}return X}}else{if(V===" "){if(Q.eat("*")||Q.eat("_")){if(Q.peek()===" "){return y(P)}else{Q.backUp(1)}}}}}if(o.strikethrough){if(V==="~"&&Q.eatWhile(V)){if(P.strikethrough){if(o.highlightFormatting){P.formatting="strikethrough"}var X=y(P);P.strikethrough=false;return X}else{if(Q.match(/^[^\s]/,false)){P.strikethrough=true;if(o.highlightFormatting){P.formatting="strikethrough"}return y(P)}}}else{if(V===" "){if(Q.match(/^~~/,true)){if(Q.peek()===" "){return y(P)}else{Q.backUp(2)}}}}}if(o.emoji&&V===":"&&Q.match(/^[a-z_\d+-]+:/)){P.emoji=true;if(o.highlightFormatting){P.formatting="emoji"}var T=y(P);P.emoji=false;return T}if(V===" "){if(Q.match(/ +$/,false)){P.trailingSpace++}else{if(P.trailingSpace){P.trailingSpaceNewLine=true}}}return y(P)}function C(N,M){var L=N.next();if(L===">"){M.f=M.inline=v;if(o.highlightFormatting){M.formatting="link"}var K=y(M);if(K){K+=" "}else{K=""}return K+q.linkInline}N.match(/^[^>]+/,true);return q.linkInline}function i(M,L){if(M.eatSpace()){return null}var K=M.next();if(K==="("||K==="["){L.f=L.inline=k(K==="("?")":"]");if(o.highlightFormatting){L.formatting="link-string"}L.linkHref=true;return y(L)}return"error"}var e={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function k(K){return function(O,N){var M=O.next();if(M===K){N.f=N.inline=v;if(o.highlightFormatting){N.formatting="link-string"}var L=y(N);N.linkHref=false;return L}O.match(e[K]);N.linkHref=true;return y(N)}}function m(L,K){if(L.match(/^([^\]\\]|\\.)*\]:/,false)){K.f=H;L.next();if(o.highlightFormatting){K.formatting="link"}K.linkText=true;return y(K)}return f(L,K,v)}function H(M,L){if(M.match(/^\]:/,true)){L.f=L.inline=b;if(o.highlightFormatting){L.formatting="link"}var K=y(L);L.linkText=false;return K}M.match(/^([^\]\\]|\\.)+/,true);return q.linkText}function b(L,K){if(L.eatSpace()){return null}L.match(/^[^\s]+/,true);if(L.peek()===undefined){K.linkTitle=true}else{L.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,true)}K.f=K.inline=v;return q.linkHref+" url"}var r={startState:function(){return{f:n,prevLine:{stream:null},thisLine:{stream:null},block:n,htmlState:null,indentation:0,inline:v,text:c,formatting:false,linkText:false,linkHref:false,linkTitle:false,code:0,em:false,strong:false,header:0,setext:0,hr:false,taskList:false,list:false,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:false,strikethrough:false,emoji:false,fencedEndRE:null}},copyState:function(K){return{f:K.f,prevLine:K.prevLine,thisLine:K.thisLine,block:K.block,htmlState:K.htmlState&&a.copyState(j,K.htmlState),indentation:K.indentation,localMode:K.localMode,localState:K.localMode?a.copyState(K.localMode,K.localState):null,inline:K.inline,text:K.text,formatting:false,linkText:K.linkText,linkTitle:K.linkTitle,linkHref:K.linkHref,code:K.code,em:K.em,strong:K.strong,strikethrough:K.strikethrough,emoji:K.emoji,header:K.header,setext:K.setext,hr:K.hr,taskList:K.taskList,list:K.list,listStack:K.listStack.slice(0),quote:K.quote,indentedCode:K.indentedCode,trailingSpace:K.trailingSpace,trailingSpaceNewLine:K.trailingSpaceNewLine,md_inside:K.md_inside,fencedEndRE:K.fencedEndRE}},token:function(M,L){L.formatting=false;if(M!=L.thisLine.stream){L.header=0;L.hr=false;if(M.match(/^\s*$/,true)){s(L);return null}L.prevLine=L.thisLine;L.thisLine={stream:M};L.taskList=false;L.trailingSpace=0;L.trailingSpaceNewLine=false;if(!L.localState){L.f=L.block;if(L.f!=A){var K=M.match(/^\s*/,true)[0].replace(/\t/g,u).length;L.indentation=K;L.indentationDiff=null;if(K>0){return null}}}}return L.f(M,L)},innerMode:function(K){if(K.block==A){return{state:K.htmlState,mode:j}}if(K.localState){return{state:K.localState,mode:K.localMode}}return{state:K,mode:r}},indent:function(M,L,K){if(M.block==A&&j.indent){return j.indent(M.htmlState,L,K)}if(M.localState&&M.localMode.indent){return M.localMode.indent(M.localState,L,K)}return a.Pass},blankLine:s,getType:y,closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return r},"xml");a.defineMIME("text/markdown","markdown");a.defineMIME("text/x-markdown","markdown")});