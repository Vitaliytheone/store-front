var custom=new function(){var n=this;n.request=null,n.confirm=function(n,e,t,a,o){var s;return s=(0,templates["modal/confirm"])($.extend({},!0,{confirm_button:"OK",cancel_button:"Cancel",width:"600px"},t,{title:n,confirm_message:e})),$(window.document.body).append(s),$("#confirmModal").modal({}),$("#confirmModal").on("hidden.bs.modal",function(n){if($("#confirmModal").remove(),"function"==typeof o)return o.call()}),$("#confirm_yes").on("click",function(n){return $("#confirm_yes").unbind("click"),$("#confirmModal").modal("hide"),a.call()})},n.ajax=function(e){var t=$.extend({},!0,e);"object"==typeof e&&(e.beforeSend=function(){"function"==typeof t.beforeSend&&t.beforeSend()},e.success=function(n){"function"==typeof t.success&&t.success(n)},null!=n.request&&n.request.abort(),n.request=$.ajax(e))},n.notify=function(n){var e,t;if($("body").addClass("bottom-right"),"object"!=typeof n)return!1;for(e in n)void 0!==(t=$.extend({},!0,{type:"success",delay:8e3,text:""},n[e])).text&&null!=t.text&&$.notify({message:t.text.toString()},{type:t.type,placement:{from:"bottom",align:"right"},z_index:2e3,delay:t.delay,animate:{enter:"animated fadeInDown",exit:"animated fadeOutUp"}})},n.sendBtn=function(e,t){if("object"!=typeof t&&(t={}),!e.hasClass("active")){e.addClass("has-spinner");var a=$.extend({},!0,t);a.url=e.attr("href"),$(".spinner",e).remove(),e.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),a.beforeSend=function(){e.addClass("active")},a.success=function(a){e.removeClass("active"),$(".spinner",e).remove(),"success"==a.status?"function"==typeof t.callback&&t.callback(a):"error"==a.status&&n.notify({0:{type:"danger",text:a.message}})},n.ajax(a)}},n.sendFrom=function(e,t,a){if("object"!=typeof a&&(a={}),!e.hasClass("active")){e.addClass("has-spinner");var o=$.extend({},!0,a),s=$(".error-summary",t);o.url=t.attr("action"),o.type="POST",$(".spinner",e).remove(),e.prepend('<span class="spinner"><i class="fa fa-spinner fa-spin"></i></span>'),o.beforeSend=function(){e.addClass("active"),s.length&&(s.addClass("hidden"),s.html(""))},o.success=function(o){e.removeClass("active"),$(".spinner",e).remove(),"success"==o.status?"function"==typeof a.callback&&a.callback(o):"error"==o.status&&(o.message&&(s.length?(s.html(o.message),s.removeClass("hidden")):n.notify({0:{type:"danger",text:o.message}})),o.errors&&$.each(o.errors,function(n,e){alert(e),t.yiiActiveForm("updateAttribute",n,e)}),"function"==typeof a.errorCallback&&a.errorCallback(o))},n.ajax(o)}},n.generateUrlFromString=function(n){var e=n.replace(/[^a-z0-9_\-\s]/gim,"").replace(/\s+/g,"-").toLowerCase();return"-"!==e&&"_"!==e||(e=""),e},n.generateUniqueUrl=function(n,e){var t,a,o=n;a=1;do{(t=_.find(e,function(n){return n===o}))&&(o=n+"-"+a,a++)}while(t);return o}},customModule={};window.modules={},$(function(){"object"==typeof window.modules&&$.each(window.modules,function(n,e){void 0!==customModule[n]&&customModule[n].run(e)})});var templates={};templates["modal/confirm"]=_.template('<div class="modal fade confirm-modal" id="confirmModal" tabindex="-1" data-backdrop="static">\n    <div class="modal-dialog modal-md" role="document">\n        <div class="modal-content">\n            <% if (typeof(confirm_message) !== "undefined" && confirm_message != \'\') { %>\n            <div class="modal-header">\n                <h3 id="conrirm_label"><%= title %></h3>\n                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span aria-hidden="true">&times;</span></button>\n            </div>\n\n            <div class="modal-body">\n                <p><%= confirm_message %></p>\n            </div>\n\n\n            <div class="modal-footer justify-content-start">\n                <button class="btn btn-primary m-btn--air" id="confirm_yes"><%= confirm_button %></button>\n                <button class="btn btn-secondary m-btn--air" data-dismiss="modal" aria-hidden="true"><%= cancel_button %></button>\n            </div>\n            <% } else { %>\n            <div class="modal-body">\n                <div class="text-center">\n                    <h3 id="conrirm_label"><%= title %></h3>\n                </div>\n\n                <div class="text-center">\n                    <button class="btn btn-primary m-btn--air" id="confirm_yes"><%= confirm_button %></button>\n                    <button class="btn btn-secondary m-btn--air" data-dismiss="modal" aria-hidden="true"><%= cancel_button %></button>\n                </div>\n            </div>\n            <% } %>\n        </div>\n    </div>\n</div>');